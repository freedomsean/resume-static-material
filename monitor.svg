<svg xmlns="http://www.w3.org/2000/svg" width="1673.8359375px" height="1076.53125px" class="sequence simple"><desc>Monitor Server/Worker</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"/></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"/></marker></defs><g class="title"><rect x="10" y="10" width="212.453125" height="28.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="15.828125" y="28.328125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">Monitor Server/Worker</tspan></text></g><g class="actor"><rect x="10" y="48.328125" width="39.1875" height="38.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="20" y="71.65625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">S3</tspan></text></g><g class="actor"><rect x="10" y="1018.203125" width="39.1875" height="38.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="20" y="1041.53125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">S3</tspan></text></g><line x1="29.59375" x2="29.59375" y1="86.65625" y2="1018.203125" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="299.671875" y="48.328125" width="77.59375" height="38.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="309.671875" y="71.65625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="309.671875">Server</tspan></text></g><g class="actor"><rect x="299.671875" y="1018.203125" width="77.59375" height="38.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="309.671875" y="1041.53125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="309.671875">Server</tspan></text></g><line x1="338.46875" x2="338.46875" y1="86.65625" y2="1018.203125" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="722.5" y="48.328125" width="116.84375" height="38.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="733.328125" y="71.65625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="732.5">AMQPBroker</tspan></text></g><g class="actor"><rect x="722.5" y="1018.203125" width="116.84375" height="38.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="733.328125" y="1041.53125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="732.5">AMQPBroker</tspan></text></g><line x1="780.921875" x2="780.921875" y1="86.65625" y2="1018.203125" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="1126.96875" y="48.328125" width="77.59375" height="38.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1136.96875" y="71.65625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1136.96875">Worker</tspan></text></g><g class="actor"><rect x="1126.96875" y="1018.203125" width="77.59375" height="38.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1136.96875" y="1041.53125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1136.96875">Worker</tspan></text></g><line x1="1165.765625" x2="1165.765625" y1="86.65625" y2="1018.203125" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="1498.1953125" y="48.328125" width="145.640625" height="38.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1509.0234375" y="71.65625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1508.1953125">MonitorTarget</tspan></text></g><g class="actor"><rect x="1498.1953125" y="1018.203125" width="145.640625" height="38.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1509.0234375" y="1041.53125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1508.1953125">MonitorTarget</tspan></text></g><line x1="1571.015625" x2="1571.015625" y1="86.65625" y2="1018.203125" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="signal"><text x="40.421875" y="115.8203125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="39.59375">Monitor List and Stopping List</tspan></text><line x1="29.59375" x2="338.46875" y1="124.984375" y2="124.984375" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="497.2890625" y="154.1484375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="497.2890625">Setup Channel</tspan></text><line x1="338.46875" x2="780.921875" y1="163.3125" y2="163.3125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="468.484375" y="192.4765625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="468.484375">Create CommandQueue</tspan></text><line x1="338.46875" x2="780.921875" y1="201.640625" y2="201.640625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="348.46875" y="230.8046875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="348.46875">Create/Bind Exchange (Send Terminate Signal)</tspan></text><line x1="338.46875" x2="780.921875" y1="239.96875" y2="239.96875" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="382.0703125" y="269.1328125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="382.0703125">Send Commands to Start All Monitoring</tspan></text><line x1="338.46875" x2="780.921875" y1="278.296875" y2="278.296875" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="910.9375" y="307.4609375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="910.9375">Setup Channel</tspan></text><line x1="1165.765625" x2="780.921875" y1="316.625" y2="316.625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="867.734375" y="345.7890625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="867.734375">Subscribe CommandQueue</tspan></text><line x1="1165.765625" x2="780.921875" y1="354.953125" y2="354.953125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="790.921875" y="384.1171875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="790.921875">Create TerminateQueue to Bind Exchange</tspan></text><line x1="1165.765625" x2="780.921875" y1="393.28125" y2="393.28125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="916.34375" y="422.4453125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="916.34375">Register</tspan></text><line x1="1571.015625" x2="338.46875" y1="431.609375" y2="431.609375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="420.4765625" y="460.7734375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="420.4765625">Publish Start to CommandQueue</tspan></text><line x1="338.46875" x2="780.921875" y1="469.9375" y2="469.9375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="857.9296875" y="499.1015625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="857.9296875">Receive Starting Command</tspan></text><line x1="780.921875" x2="1165.765625" y1="508.265625" y2="508.265625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="1291.5859375" y="537.4296875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1291.5859375">Start to Monitor</tspan></text><line x1="1165.765625" x2="1571.015625" y1="546.59375" y2="546.59375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="1155.765625" y="566.59375" width="425.25" height="28.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1160.765625" y="584.921875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1160.765625">Finished Monitoring</tspan></text></g><g class="signal"><text x="544.875" y="624.0859375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="544.875">Send Report</tspan></text><line x1="1165.765625" x2="29.59375" y1="633.25" y2="633.25" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="805.3203125" y="662.4140625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="805.3203125">Send Delay Message to Monitor Again</tspan></text><line x1="1165.765625" x2="780.921875" y1="671.578125" y2="671.578125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="872.53125" y="700.7421875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="872.53125">Receive Command Again</tspan></text><line x1="780.921875" x2="1165.765625" y1="709.90625" y2="709.90625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="328.46875" y="729.90625" width="1252.546875" height="28.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="334.296875" y="748.234375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="333.46875">Monitor Tartget Needs to Re-deploy</tspan></text></g><g class="signal"><text x="849.5390625" y="787.3984375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="848.7109375">Ask to Stop Monitoring</tspan></text><line x1="1571.015625" x2="338.46875" y1="796.5625" y2="796.5625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="420.4765625" y="825.7265625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="420.4765625">Send Stop Command to Exchange</tspan></text><line x1="338.46875" x2="780.921875" y1="834.890625" y2="834.890625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="857.9296875" y="864.0546875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="857.9296875">Receive Stopping Command</tspan></text><line x1="780.921875" x2="1165.765625" y1="873.21875" y2="873.21875" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="1191.59375" y="907.3828125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1190.765625">Add to Stop List (Memory-based)</tspan></text><line x1="1165.765625" x2="1185.765625" y1="893.21875" y2="893.21875" stroke="#000000" fill="none" style="stroke-width: 2;"/><line x1="1185.765625" x2="1185.765625" y1="893.21875" y2="916.546875" stroke="#000000" fill="none" style="stroke-width: 2;"/><line x1="1185.765625" x2="1165.765625" y1="916.546875" y2="916.546875" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="770.921875" y="931.546875" width="404.84375" height="28.328125" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="775.921875" y="949.875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="775.921875">Receive Delay Message Again</tspan></text></g><g class="signal"><text x="1190.765625" y="994.0390625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1190.765625">Check Stop List and Ignore All of Them</tspan></text><line x1="1165.765625" x2="1185.765625" y1="979.875" y2="979.875" stroke="#000000" fill="none" style="stroke-width: 2;"/><line x1="1185.765625" x2="1185.765625" y1="979.875" y2="1003.203125" stroke="#000000" fill="none" style="stroke-width: 2;"/><line x1="1185.765625" x2="1165.765625" y1="1003.203125" y2="1003.203125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g></svg>